{% include 'header.twig' %}

<div class="container-fluid">
    <h1 class="h3 mb-4 text-gray-800">Cadastro de Novo Usuário</h1>

    <div class="row justify-content-center">
        <div class="col-xl-6 col-lg-8 col-md-10">

            {# Lógica para Exibir Mensagens de Status (Sucesso/Erro) #}
            {% if app.request.query.get('status') == 'success' %}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    {{ app.request.query.get('message') }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% elseif app.request.query.get('status') == 'error' %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    {{ app.request.query.get('message') }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endif %}

            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-success">
                        <i class="fas fa-user-plus mr-2"></i> Adicionar Usuário
                    </h6>
                </div>
                <div class="card-body">
                    {# O action deve apontar para o script PHP de processamento #}
                    <form action="insert_user.php" method="POST">
                        
                        {# Campo Nome #}
                        <div class="form-group">
                            <label for="name">Nome Completo:</label>
                            <input type="text" class="form-control" id="name" name="name" placeholder="Digite o nome completo" required>
                        </div>
                        
                        {# Campo Email #}
                        <div class="form-group">
                            <label for="email">E-mail:</label>
                            <input type="email" class="form-control" id="email" name="email" placeholder="email@exemplo.com" required>
                        </div>
                        
                        {# Campo Senha #}
                        <div class="form-group">
                            <label for="password">Senha:</label>
                            <input type="password" class="form-control" id="password" name="password" required>
                        </div>
                        
                        {# Campo Permissão/Nível de Acesso #}
                        <div class="form-group">
                            <label for="permission">Nível de Permissão:</label>
                            <select class="form-control" id="permission" name="permission" required>
                                <option value="" disabled selected>Selecione o nível</option>
                                <option value="1">Administrador (Total)</option>
                                <option value="2">Padrão (Limitado)</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn btn-success btn-block mt-4">
                            <i class="fas fa-save mr-1"></i> Cadastrar Usuário
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% include 'footer.twig' %}