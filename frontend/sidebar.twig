<body id="page-top">

    <!-- Wrapper Principal -->
    <div id="wrapper">

        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

            <!-- Brand / Logo -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="/home">
                <div class="sidebar-brand-icon rotate-n-15">
                    <img src="{{ settings.logo }}" alt="{{ settings.systemname }}" style="height: 40px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));">
                </div>
                <div class="sidebar-brand-text mx-3">{{ settings.systemname }}</div>
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Nav Item - Dashboard -->
            <li class="nav-item">
                <a class="nav-link" href="dashboard">
                    <i class="fas fa-fw fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                <i class="fas fa-broadcast-tower me-2"></i>
                Dados ao Vivo
            </div>

            <!-- Nav Item - Rotas -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseRoutes" 
                    aria-expanded="false" aria-controls="collapseRoutes">
                    <i class="fas fa-fw fa-route"></i>
                    <span>Rotas</span>
                </a>
                <div id="collapseRoutes" class="collapse" aria-labelledby="headingRoutes" data-bs-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <h6 class="collapse-header">
                            <i class="fas fa-road text-primary me-1"></i>
                            Opções de Rotas
                        </h6>
                        <a class="collapse-item" href="routes">
                            <i class="fas fa-list me-2"></i>Todas as Rotas
                        </a>
                        <a class="collapse-item" href="irregularidades">
                            <i class="fas fa-exclamation-triangle me-2 text-warning"></i>Irregularidades
                        </a>
                    </div>
                </div>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                <i class="fas fa-cog me-2"></i>
                Configurações
            </div>
            
            <!-- Nav Item - Utilitários -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseUtilities"
                    aria-expanded="false" aria-controls="collapseUtilities">
                    <i class="fas fa-fw fa-wrench"></i>
                    <span>Utilitários</span>
                </a>
                <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities" data-bs-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <h6 class="collapse-header">
                            <i class="fas fa-tools text-primary me-1"></i>
                            Opções do Sistema
                        </h6>
                        <a class="collapse-item" href="utilities-color.html">
                            <i class="fas fa-palette me-2"></i>Cores
                        </a>
                        <a class="collapse-item" href="utilities-border.html">
                            <i class="fas fa-border-style me-2"></i>Bordas
                        </a>
                    </div>
                </div>
            </li>
            
            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block">

            <!-- Sidebar Toggle -->
            <div class="text-center d-none d-md-inline">
                <button class="rounded-circle border-0" id="sidebarToggle" title="Alternar Sidebar"></button>
            </div>

        </ul>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

                    <!-- Sidebar Toggle (Topbar) -->
                    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle me-3" title="Alternar Menu">
                        <i class="fa fa-bars"></i>
                    </button>

                    <!-- Topbar Info -->
                    <div class="d-none d-sm-inline-block">
                        <span class="text-muted small">
                            <i class="fas fa-clock me-1"></i>
                            <span id="currentDateTime"></span>
                        </span>
                    </div>
                    
                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav ms-auto">

                        <!-- Nav Item - Notifications -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button"
                                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-bell fa-fw"></i>
                                <span class="badge badge-danger badge-counter">3+</span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end shadow animated--grow-in"
                                aria-labelledby="alertsDropdown">
                                <h6 class="dropdown-header">
                                    <i class="fas fa-bell me-2"></i>Centro de Notificações
                                </h6>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="me-3">
                                        <div class="icon-circle bg-primary">
                                            <i class="fas fa-file-alt text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">12 de Dezembro, 2024</div>
                                        <span class="font-weight-bold">Novo relatório disponível</span>
                                    </div>
                                </a>
                                <a class="dropdown-item text-center small text-gray-500" href="#">
                                    Ver Todas as Notificações
                                </a>
                            </div>
                        </li>

                        <div class="topbar-divider d-none d-sm-block"></div>

                        <!-- Nav Item - User Information -->
                        <li class="nav-item dropdown no-arrow">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="me-2 d-none d-lg-inline text-gray-600 small">Usuário</span>
                                <i class="fas fa-user-circle fa-2x text-gray-400"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end shadow animated--grow-in"
                                aria-labelledby="userDropdown">
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-user fa-sm fa-fw me-2 text-gray-400"></i>
                                    Perfil
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-cogs fa-sm fa-fw me-2 text-gray-400"></i>
                                    Configurações
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">
                                    <i class="fas fa-sign-out-alt fa-sm fa-fw me-2 text-gray-400"></i>
                                    Sair
                                </a>
                            </div>
                        </li>

                    </ul>

                </nav>
                <!-- End of Topbar -->

                <script>
                    // Atualizar data e hora em tempo real
                    function updateDateTime() {
                        const now = new Date();
                        const options = { 
                            weekday: 'short', 
                            year: 'numeric', 
                            month: 'short', 
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        };
                        const dateTimeString = now.toLocaleDateString('pt-BR', options);
                        const element = document.getElementById('currentDateTime');
                        if (element) {
                            element.textContent = dateTimeString;
                        }
                    }

                    // Atualizar a cada minuto
                    updateDateTime();
                    setInterval(updateDateTime, 60000);
                </script>